<!DOCTYPE html>
<html>
<head>
    <title>Contador de caracteres</title>
</head>
<body>
    <textarea id="texto" rows="5" cols="50"></textarea>
    <div id="contador">Caracteres restantes: 150</div>

    <script type="text/javascript">
        var textoElement = document.getElementById("texto");
        var contadorElement = document.getElementById("contador");
        
        var limiteCaracteres = 150;

        // Agrega un controlador de eventos para el evento "input"
        textoElement.addEventListener("input", function () {
            // Calcula la cantidad de caracteres restantes
            var caracteresRestantes = limiteCaracteres - textoElement.value.length;
            
            // Actualiza el contador
            contadorElement.textContent = "Caracteres restantes: " + caracteresRestantes;
            
            // Si se supera el límite de caracteres, ajusta el contenido del campo de texto
            if (caracteresRestantes < 0) {
                var textoRecortado = textoElement.value.slice(0, limiteCaracteres);
                textoElement.value = textoRecortado;
                contadorElement.textContent = "Has alcanzado el límite de caracteres.";
            }
        });
    </script>
</body>
</html>
